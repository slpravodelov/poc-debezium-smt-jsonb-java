# Kafka Connect SMT DebeziumJsonParser

## ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

Ğ­Ñ‚Ğ¾Ñ‚ SMT Ñ‚Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ Ğ¿Ğ¾Ğ»ĞµĞ¹ before Ğ¸ after Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸. 
Ğ•ÑĞ»Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ¿Ğ¾Ğ»Ñ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ°Ñ JSON-ÑÑ‚Ñ€Ğ¾ĞºĞ°, Ñ‚Ğ¾ Ğ¾Ğ½Ğ° Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ² JSON.

**Ğ’Ñ…Ğ¾Ğ´:**
```json lines
{
// ...
    "before" : { "my_value" : "{ \"my_nested_value\" : { \"my_sub_nested_value\": 80 }}" },
    "after"  : { "my_value" : "{ \"my_nested_value\" : { \"my_sub_nested_value\": 81 }}" },
// ...
}

```
**Ğ’Ñ‹Ñ…Ğ¾Ğ´:**
```json lines
// ...
{
// ...
    "before" : {
      "my_value" : {
        "my_nested_value" : {
          "my_sub_nested_value" : 80
        }
      }
    },
    "after" : { 
      "my_value" : {
        "my_nested_value" : {
          "my_sub_nested_value" : 81
        }
      }
    }
// ...
}
// ...

```

## Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° SMT

```shell
git clone git@github.com:slpravodelov/debezium-smt-json.git
cd debezium-smt-json
mvn clean package
```

## Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° SMT

> [!IMPORTANT]
> Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ² Apache Kafka Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°Ñ‚ÑŒÑÑ Ğ¾Ñ‚ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°.

**Ğ¤Ğ°Ğ¹Ğ»: /opt/kafka/connect/config/connect-distributed.properties**
```
...
plugin.path=/opt/kafka/connect
...
```

> [!IMPORTANT]
> Ğ’Ğ°Ğ¶Ğ½Ğ¾, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ JAR Ñ SMT Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ğ»ÑÑ Ğ² ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ¼ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğµ, ĞºĞ°Ğº Ğ¿Ğ¾Ğ´ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ ĞºĞ¾Ğ½Ğ½ĞµĞºÑ‚Ğ¾Ñ€Ğ°, Ğº ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¼Ñƒ Ğ¾Ğ½ Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ÑÑ.
```
/opt/kafka/
â”œâ”€â”€ connect/                                 # ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Kafka Connect
â”‚   â”œâ”€â”€ config/                              # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ (Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾)
â”‚   â”‚   â”œâ”€â”€ connect-distributed.properties
â”‚   â”‚   â””â”€â”€ connect-log4j.properties
â”‚   â”‚
â”‚   â””â”€â”€ connectors/                          # Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½Ğ¾Ğ²
â”‚       â””â”€â”€ debezium-connector-postgres/     # Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ PostgreSQL ĞºĞ¾Ğ½Ğ½ĞµĞºÑ‚Ğ¾Ñ€Ğ°
â”‚           â”œâ”€â”€ debezium-connector-postgres-3.4.1.Final.jar
â”‚           â”œâ”€â”€ debezium-core-3.4.1.Final.jar
â”‚           â”œâ”€â”€ postgresql-42.7.7.jar
â”‚           â”œâ”€â”€ ...
â”‚           â””â”€â”€ debezium-smt-json/                      # <----- SMT DebeziumJsonParser
â”‚               â””â”€â”€ debezium-smt-json-1.6.8-bundle.jar  # <----- FAT JAR ÑĞ¾ Ğ²ÑĞµĞ¼Ğ¸ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑĞ¼Ğ¸
```

## ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ğ½ĞµĞºÑ‚Ğ¾Ñ€Ğ° c SMT

```
...
"transforms":"debeziumJson",
"transforms.debeziumJson.type":"org.mtq.kafka.connect.transforms.debezium.DebeziumJsonParser",
"transforms.debeziumJson.targetFields":"val_obj_jsonb,val_arr_jsonb,val_obj_json,val_arr_json",
"transforms.debeziumJson.fail.on.error": "true"
...
```
| Ğ¡Ğ²Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸                 | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ² Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğµ                                           | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                                                                                                                                                         |
|---------------------------------------|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| transforms                            | debeziumJson                                                 | ĞŸÑĞµĞ²Ğ´Ğ¾Ğ½Ğ¸Ğ¼ SMT (Ğ»ÑĞ±Ğ¾Ğµ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ). Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ Ğ´Ğ°Ğ»ÑŒĞ½ĞµĞ¹ÑˆĞµĞ¹ Ğ½Ğ°ÑÑ‚Ñ€Ğ¹ĞºĞ¸.                                                                                           |
| transforms.debeziumJson.type          | org.mtq.kafka.connect.transforms.debezium.DebeziumJsonParser | Java-Ñ‚Ğ¸Ğ¿ SMT.                                                                                                                                                    |
| transforms.debeziumJson.targetFields  | val_obj_jsonb,val_arr_jsonb,val_obj_json,val_arr_json        | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ğ»ĞµĞ¹ Ğ² before Ğ¸ after (Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ñ… Ğ·ÑĞ¿ÑÑ‚Ñ‹Ğ¼Ğ¸) Ğº ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¼ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑÑ‚ĞµÑÑ SMT.                                                                                  |
| transforms.debeziumJson.fail.on.error | "true"                                                       | Ğ ĞµĞ°ĞºÑ†Ğ¸Ñ Ğ½Ğ° Exception. "true" - Ğ²Ñ‹Ğ·Ğ¾Ğ²ĞµÑ‚ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½Ğ½ĞµĞºÑ‚Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞµ; "false" - Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ¾ÑÑ‚Ğ°Ğ½ĞµÑ‚ÑÑ Ğ±ĞµĞ· Ñ‚Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒÑ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ² Ğ¶ÑƒÑ€Ğ½Ğ°Ğ» ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹. |

## ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ: Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑĞ²ĞµĞ´ĞµĞ½Ğ¸Ñ

### Ğ¡Ñ…ĞµĞ¼Ğ° ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ° Debezium Ğ´Ğ»Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ CDC (ConnectSchema)

```yaml
# Ğ¡Ñ…ĞµĞ¼Ğ° Debezium Envelope
debezium_envelope_schema:
  description: "Ğ¡Ñ…ĞµĞ¼Ğ° ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ° Debezium Ğ´Ğ»Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ CDC"
  fields:
    - name: "before"
      type: "STRUCT"
      optional: true
      description: "Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ”Ğ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ (null Ğ´Ğ»Ñ INSERT)"
      
    - name: "after"
      type: "STRUCT"
      optional: true
      description: "Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ ĞŸĞĞ¡Ğ›Ğ• Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ (null Ğ´Ğ»Ñ DELETE)"
      
    - name: "source"
      type: "STRUCT"
      optional: false
      description: "ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ° (Ğ‘Ğ”, Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°, Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ² Ğ»Ğ¾Ğ³Ğµ)"
      
    - name: "transaction"
      type: "STRUCT"
      optional: true
      description: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ (ĞµÑĞ»Ğ¸ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾)"
      
    - name: "op"
      type: "STRING"
      optional: false
      description: "Ğ¢Ğ¸Ğ¿ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸: c(create), u(update), d(delete), r(read)"
      
    - name: "ts_ms"
      type: "INT64"
      optional: true
      description: "Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ² Ğ¼Ğ¸Ğ»Ğ»Ğ¸ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…"
      
    - name: "ts_us"
      type: "INT64"
      optional: true
      description: "Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ² Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…"
      
    - name: "ts_ns"
      type: "INT64"
      optional: true
      description: "Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ² Ğ½Ğ°Ğ½Ğ¾ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…"
```

### Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ° SMT JSON

# [JSON dummy data (ÑÑÑ‹Ğ»ĞºĞ°)](https://microsoftedge.github.io/Demos/json-dummy-data/)

Ğ­Ñ‚Ğ¾ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ñ JSON-Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğµ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ JSON Viewer Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ².

## ğŸ“ ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ñ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°ĞµÑ‚ Ñ‚Ñ€Ğ¸ Ñ‚Ğ¸Ğ¿Ğ° JSON-Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²:

### âœ… Already formatted JSON (Ğ£Ğ¶Ğµ Ğ¾Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ JSON)
Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğµ Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹ JSON Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿Ğ°Ğ¼Ğ¸ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼. Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‚ Ğ´Ğ»Ñ:
*   ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
*   Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
*   ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ¸

### âš¡ Minified JSON (ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ JSON)
Ğ¢Ğµ Ğ¶Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ, Ğ½Ğ¾ Ğ±ĞµĞ· Ğ»Ğ¸ÑˆĞ½Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ¾Ğ² Ğ¸ Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¾Ğ² ÑÑ‚Ñ€Ğ¾Ğº. ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‚ Ğ´Ğ»Ñ:
*   Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ¾Ğ²
*   ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ¼Ğ¸Ğ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼ Ğ²Ğ²Ğ¾Ğ´Ğ¾Ğ¼
*   Ğ˜Ğ¼Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞµÑ‚ĞµĞ²Ğ¾Ğ³Ğ¾ Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ°

### âŒ Invalid JSON (ĞĞµĞ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹Ğ¹ JSON)
Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ ÑĞ»Ğ¾Ğ¼Ğ°Ğ½Ğ½Ñ‹Ğµ JSON-Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ:
*   Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
*   ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚Ğ¸ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ°
*   ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ½ĞµĞ³Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ñ‚ĞµÑÑ‚Ğ¾Ğ²

## ğŸ¯ ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ° SMT

Ğ­Ñ‚Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ¾Ğ¹Ğ´ÑƒÑ‚ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ  `DebeziumJsonParser`:
1.  ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ñ… JSON-ÑÑ‚Ñ€Ğ¾Ğº Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ¾Ğ²
2.  ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ Ğ¿ÑƒÑÑ‚Ñ‹Ñ… Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ¾Ğ² Ğ¸ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
3.  ĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ SMT Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğ¸ Ğ½ĞµĞ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾Ğ³Ğ¾ JSON (Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ `fail.on.error`)
4.  ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ½Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… JSON-Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ…